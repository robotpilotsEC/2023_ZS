调试文档备忘录

1.Can Usart 初始化
2.Cube配置不要有中文路径，否则任务配置的时候会出问题（跑不了任务）
3.PID要理解参数含义，跟随模式底盘PID要单独计算，用speed_z
4.main中所有初始化函数都要放在OS任务函数之前，否则无法运行
5.断电停机卸力：PID的内容也要清零

->2022.10.11
电机的PID计算：底盘和云台的PID函数要分开写，否则在同一个PID函数里面作出底盘或者云台的PID判断就
              相当于动PID的根基，使用和调试起来非常的麻烦

->2022.10.12
小陀螺：底盘和云台的角度θ计算同跟随模式PID,电机反馈回的机械角度-目标机械角度
弧度制计算：（6096/22.7555）/57

->2022.10.13
小陀螺模式旋转方向不正确：底盘限速写的有问题，修改了底盘限速代码之后小陀螺成功实现


->2022.10.14-10.20
发射机构代码编写
①单发模式使用串级PID，其中位置环的measure为2006电机转过的总角度，目标值通过拨钮进行定值加减

②BUG：跟随模式连发射击之后，切换到机械模式后，由于机械模式设定了初始目标位置，拨弹轮会反转直
  到达到机械模式单发射击的初始目标值，造成卡弹

  解决:在跟随模式连发射击时，处理Can发回来的2006电机数据时，不对总角度进行任何处理，这样连发单
  发来回切换，也不会影响单发模式的拨弹轮转动（因为只有单发模式的时候电机才进行总角度处理）

③跳变检测问题：设置两个参数，一个参数是遥控器随时给的值，另一个参数为条件更新（判断完两个参数
  之后才会更新一次），可以达到跳变效果
④卡弹问题：肉眼和操作的时候可以观察到卡弹情况，此时切换为卡弹处理模式，通过拨钮上下拨动，控
  制拨弹轮顺逆扭转小角度，实现人工物理处理卡弹


卡弹：
   每隔一段一个时间周期

->2022.10.24
重大问题：遥控器拨杆给的值在PID的处理出现重大问题。

pitch轴动态限幅牛B

->2022.10.31
开始修改步兵的所有BUG：

底盘跟随PID超调->降低回转速度->已经完成
卡弹优化->基本完成
45°转头
单发连发->不分模式->已经完成

任务：代码重构


底盘跟随独立位置环PID测试完成



->2022.11.
②改堵转BUG -> 基本修改完成
③换头+45优化



->2022.11.
加入射速限制

->2022.11.15
加入键盘软件复位功能->在Offline_check.c中加入软件复位

->2023.1.15
增加上主控指示灯功能

->2023.2.21
增加超级电容
BUG已记录

->2023.2.27
发现BUG，已解决：加入防止遥控器拨杆上电未归位疯车保护

->2023.2.28
遥控器优化

->2023.3.4 
发现BUG：遥控器模式不开摩擦轮，就可以开启拨弹轮，而且转速越来越快，怀疑没有闭环，待解决   ->已解决
云台PID需要进行调整，待解决        ->已调整

->2023.3.18
下主控时不时需要按下reset才可以正常处理裁判系统数据   不知道到底是啥原因(目前未出现)
关了超电扣血(正常现象)

->2023.3.28
发现车运动过程中关闭遥控器电机会加速(忘了加电机停转)->已解决
优化堵转判断和处理 ->已解决
陀螺仪数据上电不正常->硬件正常现象，软件复位

->2023.4.4
加入随机数变换变速小陀螺
机械模式下，客户端开30fps比较丝滑，开60以及high会很抖，不知道什么原因


->2023.4.5

旧的弹丸会超射速，等用新的再调摩擦轮速度
热量限制算法比赛前要继续优化一下（等待优化）
装配全车保护以及主控保护

自瞄测试
打大符测试



->2023.5.17
很久没有写readme了，全队距离出发还有2天，加油！！！！！！！

